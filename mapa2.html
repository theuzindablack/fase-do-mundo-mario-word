<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Mario World - Playable Level</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: sans-serif; }
        #viewport { width: 100vw; height: 100vh; overflow: hidden; position: relative; }
        #game-canvas { position: relative; image-rendering: pixelated; background: #000; }
        .block { position: absolute; width: 16px; height: 16px; background-image: url('https://opengameart.org/sites/default/files/Tiles_1.png'); background-size: 160px; z-index: 5; }
        #mario { position: absolute; width: 16px; height: 16px; z-index: 10; image-rendering: pixelated; object-fit: contain; }
        #bg { position: absolute; top: 0; left: 0; opacity: 0.3; z-index: 1; pointer-events: none; }
        .ui { position: fixed; top: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 8px 12px; border-radius: 4px; font-size: 10px; z-index: 100; border: 1px solid #444; }
    </style>
</head>
<body>
    <div class="ui">SETAS / WASD: Mover | ESPAÃ‡O: Pular</div>
    <div id="viewport">
        <div id="game-canvas">
            <img id="bg" src="https://www.spriters-resource.com/media/assets/134/137311.png?updated=1755481048">
            <div id="blocks"></div>
            <img id="mario" src="https://raw.githubusercontent.com/PauloCesarCF/Jogo-do-Mario/refs/heads/main/assets/imgs/mario.gif">
        </div>
    </div>
    <script>
        const world = {"0,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"1,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"2,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"3,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"4,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"5,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"6,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"11,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"10,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"9,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"8,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"7,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"12,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"13,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"14,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"15,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"16,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"17,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"18,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"19,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"22,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"23,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"21,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"20,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"19,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"23,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"24,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"26,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"27,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"30,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"31,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"32,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"34,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"33,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"29,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"28,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"25,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"22,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"20,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"21,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"34,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"32,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"31,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"30,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"29,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"28,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"27,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"26,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"25,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"24,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"33,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"35,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"36,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"37,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"38,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"39,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"40,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"41,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"42,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"43,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"44,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"45,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"46,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"51,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"50,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"47,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"48,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"49,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"52,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"53,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"54,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"55,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"56,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"57,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"59,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"60,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"61,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"62,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"58,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"64,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"63,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"65,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"66,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"68,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"71,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"72,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"73,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"70,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"69,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"67,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"78,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"77,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"76,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"75,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"74,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"79,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"80,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"81,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"82,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"83,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"84,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"85,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"86,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"87,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"89,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"90,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"91,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"88,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"92,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"93,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"94,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"95,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"96,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"97,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"98,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"104,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"102,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"99,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"100,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"101,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"103,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"106,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"111,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"109,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"108,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"105,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"107,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"110,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"112,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"115,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"204,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"214,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"212,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"211,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"153,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"167,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"177,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"196,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"209,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"210,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"207,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"154,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"114,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"113,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"116,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"117,24":{"backgroundPosition":"-16px -16px","mode":"solid"},"117,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"118,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"119,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"120,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"121,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"122,23":{"backgroundPosition":"-16px -16px","mode":"platform"},"122,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"123,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"124,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"125,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"126,22":{"backgroundPosition":"-16px -16px","mode":"platform"},"126,21":{"backgroundPosition":"-0px -0px","mode":"solid"},"127,21":{"backgroundPosition":"-0px -0px","mode":"solid"},"128,21":{"backgroundPosition":"-0px -0px","mode":"solid"},"129,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"132,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"133,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"134,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"135,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"136,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"137,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"138,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"139,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"140,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"141,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"142,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"131,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"130,20":{"backgroundPosition":"-0px -0px","mode":"solid"},"142,21":{"backgroundPosition":"-0px -0px","mode":"solid"},"142,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"142,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"142,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"176,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"175,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"174,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"173,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"172,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"171,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"170,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"169,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"168,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"166,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"165,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"164,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"163,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"162,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"161,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"160,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"159,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"158,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"157,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"156,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"152,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"151,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"148,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"147,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"146,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"145,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"144,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"143,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"149,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"150,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"155,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"178,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"181,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"179,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"180,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"183,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"182,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"185,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"184,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"186,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"188,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"187,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"190,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"189,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"191,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"192,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"193,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"197,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"200,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"199,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"198,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"195,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"194,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"202,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"201,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"206,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"205,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"203,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"208,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"213,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"218,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"217,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"216,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"215,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"218,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"218,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"219,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"220,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"221,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"222,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"223,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"224,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"225,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"226,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"227,22":{"backgroundPosition":"-0px -0px","mode":"solid"},"227,23":{"backgroundPosition":"-0px -0px","mode":"solid"},"227,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"227,25":{"backgroundPosition":"-0px -0px","mode":"solid"},"227,26":{"backgroundPosition":"-0px -0px","mode":"solid"},"230,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"231,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"230,25":{"backgroundPosition":"-0px -0px","mode":"solid"},"230,26":{"backgroundPosition":"-0px -0px","mode":"solid"},"232,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"233,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"234,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"236,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"239,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"299,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"301,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"235,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"238,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"237,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"240,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"241,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"242,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"244,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"246,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"247,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"245,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"243,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"248,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"249,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"251,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"281,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"298,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"297,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"295,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"294,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"293,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"292,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"291,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"296,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"300,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"302,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"290,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"289,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"288,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"287,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"286,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"285,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"284,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"283,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"282,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"280,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"278,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"276,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"275,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"273,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"272,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"271,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"274,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"277,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"279,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"270,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"269,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"268,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"267,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"266,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"265,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"264,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"263,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"262,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"261,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"260,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"259,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"252,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"250,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"253,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"254,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"256,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"258,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"257,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"255,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"221,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"220,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"219,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"218,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"217,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"216,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"215,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"214,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"213,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"212,19":{"backgroundPosition":"-0px -0px","mode":"platform"},"196,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"195,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"194,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"192,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"191,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"190,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"189,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"193,18":{"backgroundPosition":"-0px -0px","mode":"platform"},"200,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"199,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"198,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"197,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"196,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"195,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"191,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"190,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"189,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"188,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"187,21":{"backgroundPosition":"-0px -0px","mode":"platform"},"50,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"49,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"48,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"47,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"46,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"45,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"44,20":{"backgroundPosition":"-0px -0px","mode":"platform"},"129,21":{"backgroundPosition":"-16px -16px","mode":"platform"},"303,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"304,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"305,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"306,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"308,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"309,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"310,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"311,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"312,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"307,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"313,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"314,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"315,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"316,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"317,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"318,24":{"backgroundPosition":"-0px -0px","mode":"solid"},"319,24":{"backgroundPosition":"-0px -0px","mode":"solid"}};
        const spawn = {"x":16,"y":368};
        const TILE_SIZE = 16;
        const container = document.getElementById('blocks');
        const mario = document.getElementById('mario');
        const view = document.getElementById('viewport');

        Object.keys(world).forEach(coord => {
            const [x, y] = coord.split(',').map(Number);
            const data = world[coord];
            const div = document.createElement('div');
            div.className = 'block';
            div.style.left = (x * TILE_SIZE) + 'px';
            div.style.top = (y * TILE_SIZE) + 'px';
            div.style.backgroundPosition = data.backgroundPosition;
            div.style.opacity = data.mode === 'ghost' ? 0.6 : 1;
            container.appendChild(div);
        });

        let px = spawn.x, py = spawn.y, vx = 0, vy = 0;
        const keys = {};
        window.onkeydown = e => keys[e.code] = true;
        window.onkeyup = e => keys[e.code] = false;

        function getMode(x, y) {
            const tx = Math.floor(x / 16);
            const ty = Math.floor(y / 16);
            return world[tx + ',' + ty]?.mode || 'ghost';
        }

        function loop() {
            vx = (keys.ArrowRight || keys.KeyD) ? 2 : (keys.ArrowLeft || keys.KeyA) ? -2 : 0;
            vy += 0.4;
            
            const sideX = vx > 0 ? px + vx + 15 : px + vx;
            if (getMode(sideX, py + 2) === 'solid' || getMode(sideX, py + 14) === 'solid') vx = 0;
            px += vx;

            if (vy < 0 && (getMode(px + 2, py + vy) === 'solid' || getMode(px + 13, py + vy) === 'solid')) vy = 0;
            
            let ground = false;
            const footL = getMode(px + 2, py + vy + 16);
            const footR = getMode(px + 13, py + vy + 16);
            if (footL === 'solid' || footL === 'platform' || footR === 'solid' || footR === 'platform') {
                const blockTop = Math.floor((py + vy + 16) / 16) * 16;
                if (py + 16 <= blockTop) {
                    py = blockTop - 16; vy = 0; ground = true;
                }
            }
            if (ground && (keys.ArrowUp || keys.KeyW || keys.Space)) vy = -7.5;
            py += vy;

            mario.style.transform = "translate(" + px + "px, " + py + "px) scaleX(" + (vx < 0 ? -1 : 1) + ")";
            view.scrollLeft = px - window.innerWidth / 2;
            view.scrollTop = py - window.innerHeight / 2;
            requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
</html>
